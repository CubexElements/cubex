<link href="../../polymer/polymer.html" rel="import">
<link href="../../fort-behavior/fort-service-behavior.html" rel="import">

<dom-module id="fortifi-app-definition" attributes="vendor app app-data">
  <template>
    <fort-resource auto="[[_ready]]" url="//[[getServiceHost('cdn')]]/_apps/[[vendor]]/[[app]]/definition.json"
                   data="{{appData}}" headers="{}"></fort-resource>
  </template>
  <script>
    Polymer(
      {
        is:         'fortifi-app-definition',
        properties: {
          vendor:  {type: String},
          app:     {type: String},
          _ready:  {type: Boolean, value: false, computed: '_setReady(vendor,app)'},
          appData: {type: Object, notify: true, value: {}}
        },

        _setReady: function ()
                   {
                     return this.vendor && this.app;
                   },

        behaviors: [Polymer.FortServiceBehavior]
      }
    );
  </script>
</dom-module>
