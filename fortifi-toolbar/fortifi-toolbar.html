<link href="../../polymer/polymer.html" rel="import">
<link href="../fortifi-quick-actions/fortifi-quick-actions.html" rel="import">
<link href="../../paper-dialog/paper-dialog.html" rel="import">
<link href="../../paper-button/paper-button.html" rel="import">
<link href="../../fort-dropdown/fort-dropdown.html" rel="import">
<link href="../../fort-action/fort-action.html" rel="import">
<link href="../../fort-list/fort-list.html" rel="import">
<link href="../../fort-list/fort-list-menu.html" rel="import">
<link href="../../fort-list/fort-list-group.html" rel="import">
<link href="../../fort-list/fort-li.html" rel="import">
<link rel="import" href="../../fort-behavior/fort-i18n-behavior.html">


<dom-module id="fortifi-toolbar">
  <template>
    <style>
      fort-dropdown fort-list-menu {
        @apply(--shadow-elevation-4dp);
      }

      fort-list-menu {
        @apply(--primary-800);
        min-width: 200px;
        opacity: 1;
      }

      fort-action {
        @apply(--primary-700-text-secondary);
        line-height: normal;
        margin: 13px 0;
      }

      paper-icon-button:hover,
      fort-action:hover {
        @apply(--primary-700-text);
      }

      #keyhelp {
        padding-top: 20px;
        width: 500px;
        text-align: left;

        --fort-li-style: {
          background: var(--theme-2-color);
        }
      }

    </style>

    <fortifi-quick-actions></fortifi-quick-actions>

    <fort-dropdown id="additional">
      <fort-action icon="icons:more-vert" slot="trigger"></fort-action>
      <fort-list-menu border>
        <fort-list-group>
          <fort-li on-tap="openKeyboardHelp">{{i18n('keyboard_shortcuts')}}</fort-li>
        </fort-list-group>
        <fort-list-group>
          <fort-li on-tap="_openTerms">{{i18n('terms_service')}}</fort-li>
          <fort-li on-tap="_openCustomerAgreement">{{i18n('cust_agree')}}</fort-li>
        </fort-list-group>
        <fort-list-group>
          <fort-li on-tap="_openOrganisationInfo">{{i18n('org_info')}}</fort-li>
          <fort-li on-tap="_openSupport">{{i18n('support')}}</fort-li>
        </fort-list-group>
      </fort-list-menu>

    </fort-dropdown>

    <paper-dialog id="keyhelp" with-backdrop>
      <h2>{{i18n('keyboard_shortcuts')}}</h2>

      <fort-list zebra border border-group>
        <fort-list-group title="{{i18n('navigation')}}">
          <fort-li>{{i18n('show_apps_orgs')}} <span slot="secondary">.</span></fort-li>
          <fort-li>{{i18n('launch_search')}} <span slot="secondary">/</span></fort-li>
        </fort-list-group>
        <fort-list-group title="{{i18n('general')}}">
          <fort-li>{{i18n('open_shortcut_help')}} <span slot="secondary">?</span></fort-li>
        </fort-list-group>
      </fort-list>

      <div class="buttons">
        <paper-button dialog-dismiss>{{i18n('close')}}</paper-button>
      </div>
    </paper-dialog>


  </template>
  <script>
    Polymer(
      {
        is:                     'fortifi-toolbar',
        behaviors:              [
          Polymer.FortI18nBehavior
        ],
        properties:             {
          resources: {
            type:  Object,
            value: {
              "en": {
                "recently_used":      "Recently Used",
                "filter_apps":        "Filter Applications",
                "filter_orgs":        "Filter Organisations",
                "general":            "General",
                "navigation":         "Navigation",
                "all_organisations":  "All Organisations",
                "keyboard_shortcuts": "Keyboard Shortcuts",
                "show_apps_orgs":     "Show Applications & Organisation",
                "launch_search":      "Launch Search",
                "open_shortcut_help": "Open Shortcut Help",
                "close":              "Close",
                "search":             "Search",
                "terms_service":      "Terms of Service",
                "org_info":           "Organisation Info",
                "cust_agree":         "Customer Agreement",
                "support":            "Support"
              },
              "fr": {
                "recently_used":      "Utilisé récemment",
                "filter_apps":        "Filtre Applications",
                "filter_orgs":        "Filtre les organisations",
                "general":            "Général",
                "navigation":         "La navigation",
                "all_organisations":  "Toutes les organisations",
                "keyboard_shortcuts": "Raccourcis clavier",
                "show_apps_orgs":     "Voir Applications & Organisation",
                "launch_search":      "Lancer la recherche",
                "open_shortcut_help": "Ouvrir Aide Raccourci",
                "close":              "Fermer",
                "search":             "Chercher",
                "terms_service":      "Conditions d'utilisation",
                "org_info":           "Organisation Infos",
                "cust_agree":         "Accord client",
                "support":            "Soutien"
              }
            }
          }
        },
        openKeyboardHelp:       function ()
                                {
                                  this.$.additional.close();
                                  this.$.keyhelp.open();
                                },
        _openTerms:             function ()
                                {
                                  this.$.additional.close();
                                  alert('coming soon');
                                },
        _openCustomerAgreement: function ()
                                {
                                  this.$.additional.close();
                                  window.open('http://fortifi.uk/agreement');
                                },
        _openOrganisationInfo:  function ()
                                {
                                  this.$.additional.close();
                                  alert('coming soon');
                                },
        _openSupport:           function ()
                                {
                                  this.$.additional.close();
                                  window.open('http://support.fortifi.uk');
                                },
      }
    );
  </script>
</dom-module>
